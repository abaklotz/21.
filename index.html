<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Interaktive Deutschlandkarte (Externe SVG)</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: #f7f7f7;
    }
    svg path {
        cursor: pointer;
        fill-opacity: 0.5;
        stroke: #333;
        stroke-width: 0.8;
        transition: fill-opacity 0.2s, stroke-width 0.2s;
    }
    svg path:hover {
        fill-opacity: 0.8;
        stroke-width: 1.5;
    }
    #infoBox {
        margin-top: 20px;
        font-size: 24px;
        font-weight: bold;
        padding: 10px 20px;
        background: #fff;
        border: 2px solid #333;
        border-radius: 5px;
        display: inline-block;
    }
</style>
</head>
<body>

<h1>Interaktive Deutschlandkarte</h1>

<!-- Container für die externe SVG -->
<div id="mapContainer"></div>

<div id="infoBox">Bitte ein Bundesland anklicken</div>

<script>
const mapContainer = document.getElementById("mapContainer");
const infoBox = document.getElementById("infoBox");

// Externe SVG laden (von Wikimedia Commons: Deutschlandkarte mit Bundesländern)
fetch("https://upload.wikimedia.org/wikipedia/commons/2/2f/Karte_Deutschland.svg")
  .then(response => response.text())
  .then(svgText => {
    mapContainer.innerHTML = svgText;

    // Nach dem Einfügen alle Pfade selektieren
    const paths = mapContainer.querySelectorAll("path, polygon, polyline");

    // Originalfarben speichern
    paths.forEach((path, i) => {
        // Jede Farbe zufällig für Sichtbarkeit
        path.dataset.originalColor = path.getAttribute("fill") || `hsl(${i*20},70%,50%)`;
        path.setAttribute("fill", path.dataset.originalColor);
        path.setAttribute("fill-opacity", "0.5");

        // Klick-Event
        path.addEventListener("click", () => {
            // Alle auf Originalfarbe zurücksetzen
            paths.forEach(p => {
                p.setAttribute("fill", p.dataset.originalColor);
                p.setAttribute("fill-opacity", "0.5");
            });

            // Angeclicktes Bundesland hervorheben
            path.setAttribute("fill", path.dataset.originalColor);
            path.setAttribute("fill-opacity", "1");

            // Name anzeigen (aus id oder title)
            const name = path.id || path.getAttribute("title") || "Bundesland";
            infoBox.textContent = name;
        });
    });
  })
  .catch(err => {
    mapContainer.textContent = "Die Karte konnte nicht geladen werden.";
    console.error(err);
  });
</script>

</body>
</html>
